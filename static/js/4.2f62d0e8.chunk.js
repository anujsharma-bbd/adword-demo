(this["webpackJsonpadword-demo"]=this["webpackJsonpadword-demo"]||[]).push([[4],{508:function(e,a,t){"use strict";t.r(a);var n=t(114),l=t(398),r=t(399),s=t(425),c=t(400),o=t(388),i=t(426),m=t(1),d=t.n(m),u=t(67),h=t(429),p=t.n(h),b=t(431),E=t(64),f=t(113),D={USERS:"https://jsonplaceholder.typicode.com/users"},g=function(){return function(e){e(Object(E.b)(f.a.SHOW_LOADER)),fetch(D.USERS).then(function(){var a=Object(b.a)(p.a.mark((function a(t){var n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.json();case 2:n=a.sent,e(Object(E.b)(E.a.ADD_USERS,n));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(a){e(Object(E.b)(E.a.USER_FETCH_ERROR))})).finally((function(a){e(Object(E.b)(f.a.HIDE_LOADER))}))}},v=function(e){return function(a){a(Object(E.b)(E.a.ADD_CAMPAIGN_INTO_LIST,e))}},C=function(e){return function(a){a(Object(E.b)(E.a.ADD_CAMPAIGN_SAVE_CHANGES,e))}},N=function(e){return function(a){a(Object(E.b)(E.a.SET_FILTERS,e))}},y=t(52),O=function(e){return e.active?d.a.createElement("span",{className:"active"},"Active"):d.a.createElement("span",{className:"inactive"},"Inactive")},S=t(432),j=t.n(S),M=t(384),A=t.n(M),k=function(e){var a=e.list,t=e.users;return d.a.createElement("div",{className:"table-responsive mb-5"},d.a.createElement("table",{className:"table"},d.a.createElement("thead",null,d.a.createElement("tr",{className:"table-header"},d.a.createElement("th",null,"Name"),d.a.createElement("th",null,"User Name"),d.a.createElement("th",null,"Start Date"),d.a.createElement("th",null,"End Date"),d.a.createElement("th",null,"Active"),d.a.createElement("th",null,"Budget"))),d.a.createElement("tbody",null,a&&a.length?a.map((function(e,a){return d.a.createElement("tr",{key:a},d.a.createElement("td",null,e.name),d.a.createElement("td",null,function(e){var a=t.find((function(a){return a.id.toString()===e.toString()}));return a&&a.name||"Unknown User"}(e.userId)),d.a.createElement("td",null,d.a.createElement(j.a,{format:"MM/DD/YYYY"},e.startDate)),d.a.createElement("td",null,d.a.createElement(j.a,{format:"MM/DD/YYYY"},e.endDate)),d.a.createElement("td",null,d.a.createElement(O,{active:(l=e,A()()>=A()(l.startDate)&&A()()<=A()(l.endDate))})),d.a.createElement("td",null,(n=e.budget||e.Budget,Math.abs(n)>999?Math.sign(n)*(Math.abs(n)/1e3).toFixed(1)+"k":Math.sign(n)*Math.abs(n))," USD"));var n,l})):d.a.createElement("tr",null,d.a.createElement("td",{colSpan:"6",align:"center"},"No Campaigns available!!")))))},w=t(505),I=t(506),F=t(509),U=t(507),x=t(403),T=t.n(x),_=t(401),L=t.n(_),R=t(402),Y=t(423),z=(t(440),function(e){function a(e){var t;if(Object(l.a)(this,a),t=Object(s.a)(this,Object(c.a)(a).call(this,e)),e&&e.model&&e.model.filters){var n=e.model.filters,r=n.startDate,i=n.endDate,m=n.byName;r=r?Date.parse(r):null,i=i?Date.parse(i):null,t.state={startDate:r||null,endDate:i||null,byName:m||""}}else t.state={startDate:null,endDate:null,byName:""};return t.onStartChange=t.onStartChange.bind(Object(o.a)(t)),t.onEndChange=t.onEndChange.bind(Object(o.a)(t)),t.onSearchNameChange=t.onSearchNameChange.bind(Object(o.a)(t)),t.searchStart=t.searchStart.bind(Object(o.a)(t)),L.a.options={positionClass:"toast-top-full-width",hideDuration:300,timeOut:5e3},L.a.clear(),t}return Object(i.a)(a,e),Object(r.a)(a,[{key:"onStartChange",value:function(e){this.setState({startDate:e,endDate:null})}},{key:"onEndChange",value:function(e){if(L.a.clear(),A()(e)<A()(this.state.startDate))return L.a.error("End Date should be greater than Start Date."),void this.setState({endDate:null});this.setState({endDate:e})}},{key:"onSearchNameChange",value:function(e){this.setState({byName:e.target.value})}},{key:"searchStart",value:function(){L.a.clear(),this.state.startDate&&!this.state.endDate||this.state.endDate&&!this.state.startDate?L.a.error("Please select both dates."):this.props.setFilters({startDate:this.state.startDate,endDate:this.state.endDate,byName:this.state.byName})}},{key:"render",value:function(){var e=this.state,a=e.startDate,t=e.endDate,n=e.byName;return d.a.createElement("div",{className:"row mb-1"},d.a.createElement("div",{className:"col-sm-7 filter-inputs"},d.a.createElement(w.a,null,d.a.createElement(T.a,{autoComplete:"off",id:"startDate",isClearable:!0,dateFormat:"MM/dd/yyyy",placeholderText:"Start Date",className:"form-control mr-1",selected:a,onChange:this.onStartChange}),d.a.createElement(T.a,{autoComplete:"off",id:"endDate",isClearable:!0,dateFormat:"MM/dd/yyyy",placeholderText:"End Date",className:"form-control mr-1",selected:t,onChange:this.onEndChange}),d.a.createElement(I.a,{autoComplete:"off",placeholder:"Search by name",value:n,onChange:this.onSearchNameChange}))),d.a.createElement("div",{className:"col-sm-2 pl-0"},d.a.createElement(F.a,{addonType:"append"},d.a.createElement(U.a,{id:"searchBtn",color:"primary",size:"md",onClick:this.searchStart},d.a.createElement(R.a,{icon:Y.c})))),d.a.createElement("div",{className:"col-sm-4"}))}}]),a}(d.a.Component)),B=Object(u.b)((function(e){return{model:e.campaignModel}}))(z),H=t(115),P=t(157),G=Object(u.b)((function(e){return{model:e.campaignModel.addCampaign}}),(function(e){return Object(y.b)({addCampaigns:v,saveChanges:C},e)}))((function(e){var a=Object(m.useState)({name:e.model.name||"",id:e.model.id||"",userId:e.model.userId||"",startDate:e.model.startDate&&new Date(e.model.startDate)||null,endDate:e.model.endDate&&new Date(e.model.endDate)||null,budget:e.model.budget||"",isClosed:e.model.isClosed}),t=Object(P.a)(a,2),n=t[0],l=t[1];Object(m.useEffect)((function(){L.a.options={positionClass:"toast-top-full-width",hideDuration:300,timeOut:5e3},L.a.clear()}),[]);var r=function(a){var t=Object(H.a)({},n),r=a.target.name,s=a.target.value;t[r]=s,l(t),e.saveChanges(t)},s=function(){L.a.clear();var a={name:"",id:"",userId:"",startDate:null,endDate:null,budget:"",isClosed:!0};l(a),e.saveChanges(a)},c=n.name,o=n.id,i=n.userId,u=n.startDate,h=n.endDate,p=n.budget,b=n.isClosed;return d.a.createElement("div",{className:"add-campaign container-fluid position-fixed "+(b?" closed ":"")},b?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"row mt-2 cursor-pointer"},d.a.createElement("div",{className:"col-sm-5"}),d.a.createElement("div",{className:"col-sm-3 text-center cursor-pointer",onClick:function(){l({isClosed:!1}),e.saveChanges({isClosed:!1})}},d.a.createElement(F.a,{addonType:"append"},d.a.createElement(U.a,{color:"primary",size:"md"},d.a.createElement(R.a,{icon:Y.a})),d.a.createElement("span",{className:"ml-2 mt-1"},"Add Campaign here..."))),d.a.createElement("div",{className:"col-sm-3"}))):d.a.createElement(d.a.Fragment,null,d.a.createElement("span",{className:"close-icon",onClick:s},d.a.createElement(U.a,{color:"danger",size:"sm"},"\xd7")),d.a.createElement("div",{className:"row mt-4 mb-2"},d.a.createElement("div",{className:"col-sm-3"}),d.a.createElement("div",{className:"col-sm-2"},d.a.createElement(I.a,{autoComplete:"off",type:"number",name:"id",placeholder:"Id",value:o,onChange:r})),d.a.createElement("div",{className:"col-sm-2"},d.a.createElement(I.a,{autoComplete:"off",name:"name",placeholder:"Name",value:c,onChange:r})),d.a.createElement("div",{className:"col-sm-2"},d.a.createElement(T.a,{autoComplete:"off",isClearable:!0,name:"startDate",dateFormat:"MM/dd/yyyy",placeholderText:"Start Date",className:"form-control",selected:u,onChange:function(e){return r({target:{name:"startDate",value:e}})}})),d.a.createElement("div",{className:"col-sm-3"})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("div",{className:"col-sm-3"}),d.a.createElement("div",{className:"col-sm-2"},d.a.createElement(I.a,{autoComplete:"off",type:"number",name:"userId",placeholder:"User ID",value:i,onChange:r})),d.a.createElement("div",{className:"col-sm-2"},d.a.createElement(I.a,{autoComplete:"off",type:"number",name:"budget",placeholder:"Budget",value:p,onChange:r})),d.a.createElement("div",{className:"col-sm-2"},d.a.createElement(T.a,{autoComplete:"off",isClearable:!0,name:"endDate",dateFormat:"MM/dd/yyyy",placeholderText:"End Date",className:"form-control",selected:h,onChange:function(e){return r({target:{name:"endDate",value:e}})}})),d.a.createElement("div",{className:"col-sm-3"})),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-3"}),d.a.createElement("div",{className:"col-sm-6"},d.a.createElement("div",{className:"pull-right"},d.a.createElement(F.a,{addonType:"append"},d.a.createElement(U.a,{color:"primary",size:"md",onClick:function(){L.a.clear();var a=n.name,t=n.id,r=n.userId,c=n.startDate,o=n.endDate,i=n.budget;a&&t&&r&&c&&o&&i?(e.addCampaigns([{name:a,id:t,userId:r,startDate:c,endDate:o,budget:i}]),l({name:"",id:"",userId:"",startDate:null,endDate:null,budget:""}),s()):L.a.error("Please fill all the fields.")}},d.a.createElement(R.a,{icon:Y.b}),"\xa0Save")))))))})),J=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(s.a)(this,Object(c.a)(a).call(this,e))).collectUsers=t.collectUsers.bind(Object(o.a)(t)),t.exposeAddition=t.exposeAddition.bind(Object(o.a)(t)),t.AddCampaigns=t.AddCampaigns.bind(Object(o.a)(t)),t.onChangeFilters=t.onChangeFilters.bind(Object(o.a)(t)),t.state={userLoadingMessage:""},t}return Object(i.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.collectUsers(),this.exposeAddition()}},{key:"collectUsers",value:function(){this.props.getUsers()}},{key:"exposeAddition",value:function(){window.AddCampaigns=this.AddCampaigns}},{key:"AddCampaigns",value:function(e){this.props.addCampaigns(e)}},{key:"onChangeFilters",value:function(e){this.props.SetFilters(e)}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement(B,{setFilters:this.onChangeFilters}),d.a.createElement(k,{list:this.props.filteredList,users:this.props.model.users}),d.a.createElement(G,null))}}]),a}(d.a.Component),V=function(e,a,t){var l=Object(n.a)(e);return a?(a.startDate&&a.endDate&&(l=l.filter((function(e){return A()(e.startDate)>=A()(a.startDate)&&A()(e.startDate)<=A()(a.endDate)||A()(e.endDate)>=A()(a.startDate)&&A()(e.endDate)<=A()(a.endDate)}))),a.byName&&(l=l.filter((function(e){return-1!==e.name.toLowerCase().indexOf(a.byName.toLowerCase())}))),l):l};a.default=Object(u.b)((function(e){return{model:e.campaignModel,filteredList:V(e.campaignModel.campaignsList,e.campaignModel.filters,e.campaignModel.users)}}),(function(e){return Object(y.b)({getUsers:g,addCampaigns:v,SetFilters:N},e)}))(J)}}]);
//# sourceMappingURL=4.2f62d0e8.chunk.js.map