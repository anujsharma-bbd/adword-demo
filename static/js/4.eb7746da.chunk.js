(this["webpackJsonpadword-demo"]=this["webpackJsonpadword-demo"]||[]).push([[4],{505:function(e,t,a){"use strict";a.r(t);var n=a(63),l=a(117),r=a(118),s=a(121),c=a(120),i=a(119),o=a(122),m=a(1),d=a.n(m),u=a(66),h=a(426),b=a.n(h),p=a(428),E=a(83),g=a(113),f={USERS:"https://jsonplaceholder.typicode.com/users"},D=function(){return function(e){e(Object(E.b)(g.a.SHOW_LOADER)),fetch(f.USERS).then(function(){var t=Object(p.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:n=t.sent,e(Object(E.b)(E.a.ADD_USERS,n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e(Object(E.b)(E.a.USER_FETCH_ERROR))})).finally((function(t){e(Object(E.b)(g.a.HIDE_LOADER))}))}},v=function(e){return function(t){t(Object(E.b)(E.a.ADD_CAMPAIGN_INTO_LIST,e))}},C=function(e){return function(t){t(Object(E.b)(E.a.SET_FILTERS,e))}},y=a(52),N=function(e){return e.active?d.a.createElement("span",{className:"active"},"Active"):d.a.createElement("span",{className:"inactive"},"Inactive")},O=a(429),S=a.n(O),j=a(387),k=a.n(j),M=function(e){var t=e.list,a=e.users;return d.a.createElement("div",{className:"table-responsive mb-5"},d.a.createElement("table",{className:"table"},d.a.createElement("thead",null,d.a.createElement("tr",{className:"table-header"},d.a.createElement("th",null,"Name"),d.a.createElement("th",null,"User Name"),d.a.createElement("th",null,"Start Date"),d.a.createElement("th",null,"End Date"),d.a.createElement("th",null,"Active"),d.a.createElement("th",null,"Budget"))),d.a.createElement("tbody",null,t&&t.length?t.map((function(e,t){return d.a.createElement("tr",{key:t},d.a.createElement("td",null,e.name),d.a.createElement("td",null,function(e){var t=a.find((function(t){return t.id.toString()===e.toString()}));return t&&t.name||"Unknown User"}(e.userId)),d.a.createElement("td",null,d.a.createElement(S.a,{format:"MM/DD/YYYY"},e.startDate)),d.a.createElement("td",null,d.a.createElement(S.a,{format:"MM/DD/YYYY"},e.endDate)),d.a.createElement("td",null,d.a.createElement(N,{active:(l=e,k()()>=k()(l.startDate)&&k()()<=k()(l.endDate))})),d.a.createElement("td",null,(n=e.budget||e.Budget,Math.abs(n)>999?Math.sign(n)*(Math.abs(n)/1e3).toFixed(1)+"k":Math.sign(n)*Math.abs(n))," USD"));var n,l})):d.a.createElement("tr",null,d.a.createElement("td",{colSpan:"6",align:"center"},"No Campaigns available!!")))))},F=a(502),w=a(503),A=a(506),I=a(504),U=a(402),x=a.n(U),T=a(400),L=a.n(T),R=a(401),_=a(422),Y=(a(437),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={startDate:null,endDate:null,byName:""},a.onStartChange=a.onStartChange.bind(Object(i.a)(a)),a.onEndChange=a.onEndChange.bind(Object(i.a)(a)),a.onSearchNameChange=a.onSearchNameChange.bind(Object(i.a)(a)),a.searchStart=a.searchStart.bind(Object(i.a)(a)),L.a.options={positionClass:"toast-top-full-width",hideDuration:300,timeOut:5e3},L.a.clear(),a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"onStartChange",value:function(e){this.setState({startDate:e,endDate:null})}},{key:"onEndChange",value:function(e){if(L.a.clear(),k()(e)<k()(this.state.startDate))return L.a.error("End Date should be greater than Start Date."),void this.setState({endDate:null});this.setState({endDate:e})}},{key:"onSearchNameChange",value:function(e){this.setState({byName:e.target.value})}},{key:"searchStart",value:function(){L.a.clear(),this.state.startDate&&!this.state.endDate||this.state.endDate&&!this.state.startDate?L.a.error("Please select both dates."):this.props.setFilters({startDate:this.state.startDate,endDate:this.state.endDate,byName:this.state.byName})}},{key:"render",value:function(){var e=this.state,t=e.startDate,a=e.endDate,n=e.byName;return d.a.createElement("div",{className:"row mb-1"},d.a.createElement("div",{className:"col-sm-7 filter-inputs"},d.a.createElement(F.a,null,d.a.createElement(x.a,{id:"startDate",isClearable:!0,dateFormat:"MM/dd/yyyy",placeholderText:"Start Date",className:"form-control mr-1",selected:t,onChange:this.onStartChange}),d.a.createElement(x.a,{id:"endDate",isClearable:!0,dateFormat:"MM/dd/yyyy",placeholderText:"End Date",className:"form-control mr-1",selected:a,onChange:this.onEndChange}),d.a.createElement(w.a,{placeholder:"Search by name",value:n,onChange:this.onSearchNameChange}))),d.a.createElement("div",{className:"col-sm-2 pl-0"},d.a.createElement(A.a,{addonType:"append"},d.a.createElement(I.a,{id:"searchBtn",color:"primary",size:"md",onClick:this.searchStart},d.a.createElement(R.a,{icon:_.c})))),d.a.createElement("div",{className:"col-sm-4"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.model.filters&&e.model.filters.clears){var a={startDate:null,endDate:null,byName:""};return e.setFilters(a),a}return{startDate:e.model.filters&&e.model.filters.startDate||t.startDate||null,endDate:e.model.filters&&e.model.filters.endDate||t.endDate||null,byName:e.model.filters&&e.model.filters.byName||t.byName||""}}}]),t}(d.a.Component)),z=Object(u.b)((function(e){return{model:e.campaignModel}}))(Y),B=a(40),P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={name:"",id:"",userId:"",startDate:null,endDate:null,budget:"",isClosed:!0},a.onChange=a.onChange.bind(Object(i.a)(a)),a.addCampaigns=a.addCampaigns.bind(Object(i.a)(a)),a.onClose=a.onClose.bind(Object(i.a)(a)),a.onOpen=a.onOpen.bind(Object(i.a)(a)),L.a.options={positionClass:"toast-top-full-width",hideDuration:300,timeOut:5e3},L.a.clear(),a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"onChange",value:function(e){var t=Object(B.a)({},this.state),a=e.target.name,n=e.target.value;t[a]=n,this.setState(t)}},{key:"addCampaigns",value:function(){L.a.clear();var e=this.state,t=e.name,a=e.id,n=e.userId,l=e.startDate,r=e.endDate,s=e.budget;t&&a&&n&&l&&r&&s?(this.props.addCampaigns([{name:t,id:a,userId:n,startDate:l,endDate:r,budget:s}]),this.setState({name:"",id:"",userId:"",startDate:null,endDate:null,budget:""})):L.a.error("Please fill all the fields.")}},{key:"onClose",value:function(){L.a.clear(),this.setState({name:"",id:"",userId:"",startDate:null,endDate:null,budget:"",isClosed:!0})}},{key:"onOpen",value:function(){this.setState({isClosed:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.id,l=t.userId,r=t.startDate,s=t.endDate,c=t.budget,i=t.isClosed;return d.a.createElement("div",{className:"add-campaign container-fluid position-fixed "+(i?" closed ":"")},i?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"row mt-2 cursor-pointer"},d.a.createElement("div",{className:"col-sm-5"}),d.a.createElement("div",{className:"col-sm-3 text-center cursor-pointer",onClick:this.onOpen},d.a.createElement(A.a,{addonType:"append"},d.a.createElement(I.a,{color:"primary",size:"md"},d.a.createElement(R.a,{icon:_.a})),d.a.createElement("span",{className:"ml-2 mt-1"},"Add Campaign here..."))),d.a.createElement("div",{className:"col-sm-3"}))):d.a.createElement(d.a.Fragment,null,d.a.createElement("span",{className:"close-icon",onClick:this.onClose},d.a.createElement(I.a,{color:"danger",size:"sm"},"\xd7")),d.a.createElement("div",{className:"row mt-4 mb-2"},d.a.createElement("div",{className:"col-sm-3"}),d.a.createElement("div",{className:"col-sm-2"},d.a.createElement(w.a,{type:"number",name:"id",placeholder:"Id",value:n,onChange:this.onChange})),d.a.createElement("div",{className:"col-sm-2"},d.a.createElement(w.a,{name:"name",placeholder:"Name",value:a,onChange:this.onChange})),d.a.createElement("div",{className:"col-sm-2"},d.a.createElement(x.a,{isClearable:!0,name:"startDate",dateFormat:"MM/dd/yyyy",placeholderText:"Start Date",className:"form-control",selected:r,onChange:function(t){return e.onChange({target:{name:"startDate",value:t}})}})),d.a.createElement("div",{className:"col-sm-3"})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("div",{className:"col-sm-3"}),d.a.createElement("div",{className:"col-sm-2"},d.a.createElement(w.a,{type:"number",name:"userId",placeholder:"User ID",value:l,onChange:this.onChange})),d.a.createElement("div",{className:"col-sm-2"},d.a.createElement(w.a,{type:"number",name:"budget",placeholder:"Budget",value:c,onChange:this.onChange})),d.a.createElement("div",{className:"col-sm-2"},d.a.createElement(x.a,{isClearable:!0,name:"endDate",dateFormat:"MM/dd/yyyy",placeholderText:"End Date",className:"form-control",selected:s,onChange:function(t){return e.onChange({target:{name:"endDate",value:t}})}})),d.a.createElement("div",{className:"col-sm-3"})),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-3"}),d.a.createElement("div",{className:"col-sm-6"},d.a.createElement("div",{className:"pull-right"},d.a.createElement(A.a,{addonType:"append"},d.a.createElement(I.a,{color:"primary",size:"md",onClick:this.addCampaigns},d.a.createElement(R.a,{icon:_.b}),"\xa0Save")))))))}}]),t}(d.a.Component),H=Object(u.b)(null,(function(e){return Object(y.b)({addCampaigns:v},e)}))(P),J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).collectUsers=a.collectUsers.bind(Object(i.a)(a)),a.exposeAddition=a.exposeAddition.bind(Object(i.a)(a)),a.AddCampaigns=a.AddCampaigns.bind(Object(i.a)(a)),a.onChangeFilters=a.onChangeFilters.bind(Object(i.a)(a)),a.state={userLoadingMessage:""},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.collectUsers(),this.exposeAddition()}},{key:"collectUsers",value:function(){this.props.getUsers()}},{key:"exposeAddition",value:function(){window.AddCampaigns=this.AddCampaigns}},{key:"AddCampaigns",value:function(e){this.props.addCampaigns(e)}},{key:"onChangeFilters",value:function(e){this.props.SetFilters(e)}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement(z,{setFilters:this.onChangeFilters}),d.a.createElement(M,{list:this.props.filteredList,users:this.props.model.users}),d.a.createElement(H,null))}}]),t}(d.a.Component),G=function(e,t,a){var l=Object(n.a)(e);return t?(t.startDate&&t.endDate&&(l=l.filter((function(e){return k()(e.startDate)>=k()(t.startDate)&&k()(e.startDate)<=k()(t.endDate)||k()(e.endDate)>=k()(t.startDate)&&k()(e.endDate)<=k()(t.endDate)}))),t.byName&&(l=l.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.byName.toLowerCase())}))),l):l};t.default=Object(u.b)((function(e){return{model:e.campaignModel,filteredList:G(e.campaignModel.campaignsList,e.campaignModel.filters,e.campaignModel.users)}}),(function(e){return Object(y.b)({getUsers:D,addCampaigns:v,SetFilters:C},e)}))(J)}}]);
//# sourceMappingURL=4.eb7746da.chunk.js.map